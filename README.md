# WORK FAIRY(근태 요정)

# 👩‍🚀 프론트엔드 개발팀

<table>
  <tr>
    <td align="center">
      <a href="https://github.com/ChoEun-Sang">
        <img src="https://avatars.githubusercontent.com/u/128155681?v=4" width="100px;" alt="ChoEun-Sang"/><br />
        <sub><b>👑 조은상</b><br></sub>
      </a>
    </td>
    <td align="center">
      <a href="https://github.com/pildrums">
        <img src="https://avatars.githubusercontent.com/u/77140851?v=4" width="90px;" alt="Pildrum"/><br />
        <sub><b>김필진</b><br></sub>
      </a>
    </td>
    <td align="center">
      <a href="https://github.com/cuconveniencestore">
        <img src="https://avatars.githubusercontent.com/u/125563995?v=4" width="100px;" alt="Siwoo Lee"/><br />
        <sub><b>이시우</b><br></sub>
      </a>
    </td>
     <td align="center">
      <a href="https://github.com/Tteum00">
        <img src="https://avatars.githubusercontent.com/u/128392118?v=4" width="100px;" alt="Jung SeungWon"/><br />
        <sub><b>정승원</b><br></sub>
      </a>
    </td>
  </tr>
 <tr>
    <td align="center">
        <sub><b>- 관리자 페이지</b><br></sub>
        <sub><b>- 프론트엔드 팀장</b><br></sub>
        <sub><b>- README 및 프로젝트 관련 서류 담당</b><br></sub>
    </td>
    <td align="center">
        <sub><b>- Auth페이지 / 관리자페이지</b><br></sub>
        <sub><b>- 프로젝트 리더</b><br></sub>
        <sub><b>- Git Management</b><br></sub>
        <sub><b>- 와이어프레임 담당</b><br></sub>
    </td>
    <td align="center">
        <sub><b>- 사원 페이지</b><br></sub>
        <sub><b>- 템플릿 디자인 담당</b><br></sub>
    </td>
     <td align="center">
        <sub><b>- 캘린더 컴포넌트 </b><br></sub>
    </td>
  </tr>

</table>

<br />
<br />

# 사용기술 및 개발환경

### Development

<p>
<img src="https://img.shields.io/badge/Next.JS-000000?style=flat&logo=nextdotjs&logoColor=white" />
<img src="https://img.shields.io/badge/TypeScript-3178C6?style=flat&logo=TypeScript&logoColor=white" />
<img src="https://img.shields.io/badge/scss-DB7093?style=flat&logo=sass&logoColor=white" />
<img src="https://img.shields.io/badge/axios-5A29E4?style=flat&logo=axios&logoColor=white" />
<img src="https://img.shields.io/badge/npm-CB3837?style=flat&logo=npm&logoColor=white" />
</p>

<br />
<br />

## 화면 구성

### 로그인 페이지

**사용자별 로그인**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/f3cc3cb0-905b-4444-af7d-50583a8fbde5' alt='로그인메인' />
**회원가입**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/82d1bea6-0e83-4671-980d-d95be0ab8c1d' alt='사원회원가입'>
**사원용 로그인**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/3974590e-4f42-4aaf-b876-75d2f19e39c5' alt='사원로그인' />
**관리자용 로그인**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/97e4d8f6-6fd9-4114-8059-daea8571b2b8' alt='관리자로그인' />

<hr />

### 사원 페이지

**메인페이지**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/e62ffa69-d149-40ab-806a-7e85a15f9ff4' width=1678 alt='사원용메인' />
**연차/당직 등록**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/f44f9ef5-115a-41fb-8057-9e5f5e4c6c49' width=1678 alt='사원용모달' />
**결재 내역 페이지**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/cc35543d-f8e9-4637-8b79-9822b65d08fa' width=1678 alt='사원결재내역' />
**결재 상세 내역**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/d9c59432-da5e-4b92-aef6-b74675e0aa45' width=1678 alt='사원내역모달'>

<hr />

### 관리자 페이지

**요청 관리 페이지**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/f5fc8376-8f64-437d-8b47-e6a5326617e9' width=1678 alt='관리자메인'/>
**결재 처리 창**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/b1c4d936-2ce0-471e-890e-f0e703586975' width=1678 alt='관리자모달'/>
**일별 사용대장**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/04740eae-d35b-446f-9b58-bfc445a1a971' width=1678 alt='관리자일별'/>
**월별 사용대장**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/bbc5296e-6e4f-437e-9f70-cb1e8ed5d589' width=1678 alt='관리자월별'/>
**사원 조회 페이지**
<img src='https://github.com/FAST-MINI-TEAM1/client-team1/assets/128155681/5306036e-00ce-4743-b64d-4fc80d7bbd1f' width=1678 alt='관리자조회'/>

<br />
<br />

## API 사용법

모든 API 요청(Request) `headers`에 아래 정보가 꼭 포함돼야 합니다!
`username`은 `KDT5_TeamX`와 같이 본명 혹은 팀 이름을 포함해야 합니다!
확인할 수 없는 사용자나 팀의 DB 정보는 임의로 삭제될 수 있습니다!

```json
{
  "content-type": "application/json"
}
```

<hr />

## 인증

'인증' 관련 API는 모두 일반 사용자 전용입니다.

### 회원가입

사용자가 `username`에 종속되어 회원가입합니다.

- 사용자 비밀번호는 암호화해 저장합니다.(관리자는 확인할 수 없습니다!)

```curl
curl http://54.79.60.180:8080/api/register
  \ -X 'POST'
```

요청 데이터 타입 및 예시:

```ts
interface RequestBody {
  email: string; // 사용자 아이디 (필수!)
  password: string; // 사용자 비밀번호, 8자 이상 (필수!)
  empName: string; // 사용자 이름, 20자 이하 (필수!)
  position?: string; // 직급 (선택 사항!)
}
```

```json
{
  "email": "aaa@gmail.com",
  "password": "********",
  "empName": "team1",
  "position": "팀장"
}
```

응답 데이터 타입 및 예시:

```ts
interface ResponseValue {
  success: boolean;
  code: number;
  message: string;
}
```

```json
{
  "success": false,
  "code": -1,
  "message": "이메일이 중복되었습니다."
}
```

### 로그인

- 발급된 `accessToken`은 30분 후 만료됩니다.(만료 후 다시 로그인 필요)

```curl
curl http://54.79.60.180:8080/api/login
  \ -X 'POST'
```

요청 데이터 타입 및 예시:

```ts
interface RequestBody {
  email: string; // 사용자 아이디 (필수!)
  password: string; // 사용자 비밀번호 (필수!)
}
```

```json
{
  "email": "aaa@gmail.com",
  "password": "********"
}
```

응답 데이터 타입 및 예시:

```ts
interface ResponseValue {
  Authorization: string;
  Authorization-refresh: string;
}
```

```json
{
  "Authorization": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjlQS3I...(생략)",
  "Authorization-refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjlQS3I...(생략)"
}
```

<hr />

### 요청관리 - 결재처리

- 관리자 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/admin/order/update
  \ -X 'POST'
  \ -H 'Authorization: Bearer <token>'
  \ -H 'Authorization-refresh : Bearer <token>'
```

요청 데이터 타입 및 예시:

```ts
interface RequestBody {
  id: number;
  status: string;
}
```

```json
{
     "id" : 1
     "status" : "승인"
}
```

응답 데이터 타입 및 예시:

- 없음

### 요청관리 리스트 조회 - 결재대기

- 관리자 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/admin/order/list/status/wait?page=${page}&size=${size}
  \ -X 'GET'
  \ -H 'Authorization: Bearer <token>'
  \ -H 'Authorization-refresh : Bearer <token>'
```

요청 데이터 타입 및 예시:

- 없음

응답 데이터 타입 및 예시:

```ts
interface ResponseValue {
  content: ContentData[];
  pageable: {
    sort: {
      empty: boolean;
      sorted: boolean;
      unsorted: boolean;
    };
    offset: number;
    pageNumber: number;
    pageSize: number;
    paged: boolean;
    unpaged: boolean;
  };
  totalElements: number;
  totalPages: number;
  last: boolean;
  number: number;
  sort: {
    empty: boolean;
    sorted: boolean;
    unsorted: boolean;
  };
  size: number;
  numberOfElements: number;
  first: boolean;
  empty: boolean;
}

interface ContentData {
  id: number;
  empName: string;
  createdAt: string;
  orderType: string;
  status: string;
  startDate: string;
  endDate: string;
  reason: string;
  category: string;
  etc: string;
}
```

```json
{
  "content": [
    {
      "id": 1,
      "empName": "박지훈",
      "createdAt": "2023-07-15",
      "orderType": "연차",
      "status": "대기",
      "startDate": "2023-07-15",
      "endDate": "2023-07-20",
      "reason": "이유",
      "category": "경조사",
      "etc": "기타"
    }
  ],
  "pageable": {
    "sort": {
      "empty": true,
      "sorted": false,
      "unsorted": true
    },
    "offset": 0,
    "pageNumber": 0,
    "pageSize": 4,
    "paged": true,
    "unpaged": false
  },
  "totalElements": 22,
  "totalPages": 6,
  "last": false,
  "number": 0,
  "sort": {
    "empty": true,
    "sorted": false,
    "unsorted": true
  },
  "size": 4,
  "numberOfElements": 4,
  "first": true,
  "empty": false
}
```

### 요청관리 리스트 조회 - 결재완료

- 관리자 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/admin/order/list/status/complete?page=${page}&size=${size}
  \ -X 'GET'
  \ -H 'Authorization: Bearer <token>'
  \ -H 'Authorization-refresh : Bearer <token>'
```

요청 데이터 타입 및 예시:

- 없음

응답 데이터 타입 및 예시:

```ts
interface ResponseValue {
  content: {
    id: number;
    empName: string;
    createdAt: string;
    orderType: string;
    status: string;
    startDate: string;
    endDate: string;
    reason: string;
    category: string;
    etc: string;
  }[];
  pageable: {
    sort: {
      empty: boolean;
      sorted: boolean;
      unsorted: boolean;
    };
    offset: number;
    pageNumber: number;
    pageSize: number;
    paged: boolean;
    unpaged: boolean;
  };
  totalElements: number;
  totalPages: number;
  last: boolean;
  number: number;
  sort: {
    empty: boolean;
    sorted: boolean;
    unsorted: boolean;
  };
  size: number;
  numberOfElements: number;
  first: boolean;
  empty: boolean;
}
```

```json
{
  "content": [
    {
      "id": 1,
      "empName": "박지훈",
      "createdAt": "2023-07-15",
      "orderType": "연차",
      "status": "승인",
      "startDate": "2023-07-15",
      "endDate": "2023-07-20",
      "reason": "이유",
      "category": "경조사",
      "etc": "기타"
    }
  ],
  "pageable": {
    "sort": {
      "empty": true,
      "sorted": false,
      "unsorted": true
    },
    "offset": 0,
    "pageNumber": 0,
    "pageSize": 4,
    "paged": true,
    "unpaged": false
  },
  "totalElements": 22,
  "totalPages": 6,
  "last": false,
  "number": 0,
  "sort": {
    "empty": true,
    "sorted": false,
    "unsorted": true
  },
  "size": 4,
  "numberOfElements": 4,
  "first": true,
  "empty": false
}
```

### 월별 사용대장 - 당직 조회

- 관리자 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/admin/order/list/monthly/duty?year=${year}
  \ -X 'GET'
  \ -H 'Authorization: Bearer <token>'
  \ -H 'Authorization-refresh : Bearer <token>'
```

요청 데이터 타입 및 예시:

- 없음

응답 데이터 타입 및 예시:

```ts
type TDutyData = IDutyItem[];

interface IDutyItem {
  id: number;
  empName: string;
  empNo: number;
  month: {
    jan: number;
    feb: number;
    mar: number;
    apr: number;
    may: number;
    jun: number;
    jul: number;
    aug: number;
    sept: number;
    oct: number;
    nov: number;
    dec: number;
    totalCount: number;
  };
  total: number;
}
```

```json
[
  {
    "id": 1,
    "empName": "박지훈",
    "empNo": 20200001,
    "month": {
      "jan": 0,
      "feb": 0,
      "mar": 0,
      "apr": 0,
      "may": 0,
      "jun": 0,
      "jul": 6,
      "aug": 0,
      "sept": 0,
      "oct": 0,
      "nov": 0,
      "dec": 0,
      "totalCount": 6
    },
    "total": 6
  }
]
```

### 월별 사용대장 - 연차 조회

- 관리자 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/admin/order/list/monthly/annual?year=${year}
  \ -X 'GET'
  \ -H 'Authorization: Bearer <token>'
  \ -H 'Authorization-refresh : Bearer <token>'
```

요청 데이터 타입 및 예시:

- 없음

응답 데이터 타입 및 예시:

```ts
type TAnnualData = IDutyItem[];

interface IAnnualItem {
  id: number;
  empName: string;
  empNo: number;
  month: {
    jan: number;
    feb: number;
    mar: number;
    apr: number;
    may: number;
    jun: number;
    jul: number;
    aug: number;
    sept: number;
    oct: number;
    nov: number;
    dec: number;
    totalCount: number;
  };
  total: number;
}
```

```json
[
  {
    "id": 1,
    "empName": "박지훈",
    "empNo": 20200001,
    "month": {
      "jan": 0,
      "feb": 0,
      "mar": 0,
      "apr": 0,
      "may": 0,
      "jun": 0,
      "jul": 6,
      "aug": 0,
      "sept": 0,
      "oct": 0,
      "nov": 0,
      "dec": 0,
      "totalCount": 6
    },
    "total": 6
  }
]
```

### 사원조회 - 사원명

- 관리자 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/admin/user/search?name=${name}
  \ -X 'GET'
  \ -H 'Authorization: Bearer <token>'
  \ -H 'Authorization-refresh : Bearer <token>'
```

요청 데이터 타입 및 예시:

- 없음

응답 데이터 타입 및 예시:

```ts
interface ISearch {
  id: number;
  empNo: number;
  empName: string;
  createdAt: string;
}
```

```json
{
  "id": 4,
  "empNo": 20210004,
  "empName": "홍길동",
  "createdAt": "2023-08-03"
}
```

### 사원조회 - 사원번호

- 관리자 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/admin/user/search?empno=${empno}
  \ -X 'GET'
  \ -H 'Authorization: Bearer <token>'
  \ -H 'Authorization-refresh : Bearer <token>'
```

요청 데이터 타입 및 예시:

- 없음

응답 데이터 타입 및 예시:

```ts
interface ISearch {
  id: number;
  empNo: number;
  empName: string;
  createdAt: string;
}
```

```json
{
  "id": 4,
  "empNo": 20210004,
  "empName": "홍길동",
  "createdAt": "2023-08-03"
}
```

### 사원조회 - 연차/당직 내역

- 관리자 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/admin/order/list?user=${user}&page=${page}&size=${size}
  \ -X 'GET'
  \ -H 'Authorization: Bearer <token>'
  \ -H 'Authorization-refresh : Bearer <token>'
```

요청 데이터 타입 및 예시:

- 없음

응답 데이터 타입 및 예시:

```ts
interface ResponseValue {
  content: {
    id: number;
    empName: string;
    createdAt: string;
    orderType: string;
    status: string;
    startDate: string;
    endDate: string;
    reason: string;
    category: string;
    etc: string;
  }[];
  pageable: {
    sort: {
      empty: boolean;
      sorted: boolean;
      unsorted: boolean;
    };
    offset: number;
    pageNumber: number;
    pageSize: number;
    paged: boolean;
    unpaged: boolean;
  };
  totalElements: number;
  totalPages: number;
  last: boolean;
  number: number;
  sort: {
    empty: boolean;
    sorted: boolean;
    unsorted: boolean;
  };
  size: number;
  numberOfElements: number;
  first: boolean;
  empty: boolean;
}
```

```json
{
  "content": [
    {
      "id": 1,
      "empName": "박지훈",
      "createdAt": "2023-07-15",
      "orderType": "연차",
      "status": "승인",
      "startDate": "2023-07-15",
      "endDate": "2023-07-20",
      "reason": "이유",
      "category": "경조사",
      "etc": "기타"
    }
  ],
  "pageable": {
    "sort": {
      "empty": true,
      "sorted": false,
      "unsorted": true
    },
    "offset": 0,
    "pageNumber": 0,
    "pageSize": 4,
    "paged": true,
    "unpaged": false
  },
  "totalElements": 22,
  "totalPages": 6,
  "last": false,
  "number": 0,
  "sort": {
    "empty": true,
    "sorted": false,
    "unsorted": true
  },
  "size": 4,
  "numberOfElements": 4,
  "first": true,
  "empty": false
}
```

---

### 연차/당직 등록

- 시원 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/admin/order/add
  \ -X 'POST'
  \ -H 'Authorization: Bearer <token>'
```

요청 데이터 타입 및 예시:

```ts
interface RequestBody {
  orderType: string;
  startAt: string;
  endAt: string;
  reason: string | null;
  category: string | null;
  etc: string | null;
}
```

```json
{
    "orderType": “당직 or 연차”,
    "startAt": “2023-07-31”,
    "endAt": “2023-07-31”,
    "reason" : “이유”
    "category"? : “경조사”
    "etc"?: “특이사항입니다.”
}
```

응답 데이터 타입 및 예시:

```ts
interface ResponseValue {
  success: boolean;
  response: string;
  error: null;
}
```

```json
{
  "success": true,
  "response": "등록 완료",
  "error": null
}
```

### 전자결제내역

- 시원 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/user/myorder?page={page}&size={size}
  \ -X 'GET'
  \ -H 'Authorization: Bearer <token>'
```

요청 데이터 타입 및 예시:

- 없음

응답 데이터 타입 및 예시:

```ts
interface ResponseValue {
  success: boolean;
  response: {
    content: [
      {
        id: number;
        empName: string;
        createdAt: string;
        orderType: string;
        status: string;
        startDate: string;
        endDate: string;
        reason: string | null;
      },
    ];
    pageable: {
      sort: {
        empty: boolean;
        sorted: boolean;
        unsorted: boolean;
      };
      offset: number;
      pageNumber: number;
      pageSize: number;
      paged: boolean;
      unpaged: boolean;
    };
    totalPages: number;
    totalElements: number;
    last: boolean;
    number: number;
    sort: {
      empty: boolean;
      sorted: boolean;
      unsorted: boolean;
    };
    size: number;
    numberOfElements: number;
    first: boolean;
    empty: boolean;
  };
  error: string | null;
}
```

```json
{
  "success": true,
  "response": {
    "content": [
      {
        "id": 87,
        "empName": "마두기",
        "createdAt": "2023-08-09",
        "orderType": "당직",
        "status": "승인",
        "startDate": "2023-08-10",
        "endDate": "2023-08-10",
        "reason": null
      }
    ],
    "pageable": {
      "sort": {
        "empty": true,
        "sorted": false,
        "unsorted": true
      },
      "offset": 0,
      "pageNumber": 0,
      "pageSize": 10,
      "paged": true,
      "unpaged": false
    },
    "totalPages": 2,
    "totalElements": 12,
    "last": false,
    "number": 0,
    "sort": {
      "empty": true,
      "sorted": false,
      "unsorted": true
    },
    "size": 10,
    "numberOfElements": 10,
    "first": true,
    "empty": false
  },
  "error": null
}
```

### 연차/당직 내역 삭제

- 시원 전용 API 입니다.

```curl
curl http://54.79.60.180:8080/api/user/order/delete?id={id}
  \ -X 'POST'
  \ -H 'Authorization: Bearer <token>'
```

요청 데이터 타입 및 예시:

- 없음

응답 데이터 타입 및 예시:

```ts
interface ResponseValue {
  success: boolean;
  response: string;
  error: string | null;
}
```

```json
{
  "success": "true",
  "response": "등록 완료",
  "error": null
}
```
